<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Promises</h1>
  <p id="demo"></p>
  <!-- Promise is an object that may produce a single value some time in the future. -->
  <!-- asyncronous function is a function that returns a promise. -->

  <!-- <script>
    let car = new Promise(function(resolve, reject) {
      // do something
      fuel_fullTank = false;
      if (fuel_fullTank) {
        resolve('Car is ready');
      } else {
        reject('Car is not ready');
      }
    });
    car.then(function() {
      // resolve('Car is ready');
      document.write('The fuel tank is full. Happy Driving!');
    }).catch(function() {
    // reject('Car is not ready');
      document.write('The fuel tank is not full. Please fill the tank!');
    });
  </script> -->

  <script>
    let empty_tank = function() {
      return new Promise(function(resolve, reject) {
        resolve("The car doesn't have enough fuel!");
      });
    }
    let engine = function(msg) {
      return new Promise(function(resolve, reject) {
        resolve(msg + "The engine is overheating!");
      });
    }

    let travel = function(msg) {
      return new Promise(function(resolve, reject) {
        resolve(msg + "The car is not safe for traveling!");
      });
    }

    empty_tank().then(function(result) {
      return engine(result);
    }).then(function(result) {
      return travel(result);
    }).then(function(result) {
      console.log("Done: " + result);
    });
  </script>
</body>
</html>